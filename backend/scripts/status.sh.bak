#!/bin/bash

# ðŸ“Š æ£€æŸ¥æœåŠ¡çŠ¶æ€
# Usage: ./scripts/status.sh

echo "ðŸ“Š Service Status"
echo "================================"

# æ£€æŸ¥ API æœåŠ¡å™¨
API_PID=$(ps aux | grep "api.server" | grep -v grep | awk '{print \$2}')
if [ -n "$API_PID" ]; then
    echo "âœ… API Server: Running (PID: $API_PID)"
    echo "   URL: http://localhost:8000"
else
    echo "âŒ API Server: Stopped"
fi

echo ""

# æ£€æŸ¥ Agent æœåŠ¡
AGENT_PID=$(ps aux | grep "agent.server" | grep -v grep | awk '{print \$2}')
if [ -n "$AGENT_PID" ]; then
    echo "âœ… AI Agent: Running (PID: $AGENT_PID)"
else
    echo "âŒ AI Agent: Stopped"
fi

echo "================================"

# æ£€æŸ¥ç«¯å£å ç”¨
if command -v lsof &> /dev/null; then
    echo ""
    echo "ðŸ“¡ Port Status:"
    lsof -i :8000 2>/dev/null && echo "  Port 8000: In use" || echo "  Port 8000: Free"
fi